<style>
  body {
    margin: 0;
    padding: 0;
    font-family: 'Poppins', sans-serif;
  }

  /* ðŸ”µ Loading Overlay */
  #loadingOverlay {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(255, 255, 255, 0.85);
    z-index: 9999;
    justify-content: center;
    align-items: center;
    flex-direction: column;
  }

  /* ðŸ”µ Spinner */
  .spinner {
    width: 64px;
    height: 64px;
    border: 6px solid #e6ecf5;          /* light blue/white */
    border-top: 6px solid #0a2a66;      /* dark blue */
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
  }

  @keyframes spin {
    to {
      transform: rotate(360deg);
    }
  }

  /* ðŸ”µ Loading Text */
  .loading-text {
    margin-top: 14px;
    font-size: 1rem;
    font-weight: 600;
    color: #0a2a66;
    letter-spacing: 0.5px;
  }
</style>

<body>
  <!-- Loading Overlay -->
<div id="loadingOverlay">
  <div class="spinner"></div>
  <div class="loading-text">Please wait...</div>
</div>
<script>
  const loadingOverlay = document.getElementById('loadingOverlay');
  const allForms = document.querySelectorAll('form');

  function showLoader(form) {
    if (!form.checkValidity()) {
      form.reportValidity();
      return;
    }

    loadingOverlay.style.display = 'flex';
    document.body.style.overflow = 'hidden';
    document.body.style.pointerEvents = 'none';
  }

  allForms.forEach(form => {
    form.addEventListener('submit', () => {
      showLoader(form);
    });
  });

  // Safety: hide loader if page restored from cache
  window.addEventListener('pageshow', (event) => {
    if (event.persisted) {
      loadingOverlay.style.display = 'none';
      document.body.style.overflow = '';
      document.body.style.pointerEvents = '';
    }
  });
</script>
